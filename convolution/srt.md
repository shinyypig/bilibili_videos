各位同学，早啊！
今天我们来聊一聊一个非常常见的运算：卷积
在这个视频的最后，通过卷积的矩阵表示，我们会惊讶地发现
原来卷积运算早在小学数学课上就已经学过了！

首先，我们来看一下连续函数的卷积定义

具体的运算过程是这样的
首先将函数 g 进行翻转
然后平移到某个位置

接着计算函数 f 和 g 在该位置的乘积
并进一步对乘积得到的函数进行积分
积分的结果就是卷积在该位置的取值

通过不断地改变 g 的位置
我们就可以得到完整的卷积结果

离散序列的卷积与连续函数的卷积类似
其中 x 通常被称为输入序列
h 则被称为卷积核
我们同样需要将序列 h 进行翻转和平移
然后计算序列 x 和 h 在该位置的乘积之和
得到的结果就是卷积在该位置的取值

这里我们给出一个简单的例子
可以发现，之前的离散卷积的过程可以
表示为矩阵和向量的乘法形式

对于左侧的矩阵，其中的每一行
都是序列 h 的一个翻转和平移版本
或者从列的角度来看
矩阵的每一列
都是序列 h 的一个平移
而右侧的向量则是序列 x
通过矩阵和向量的乘法运算
我们就得到了卷积的结果

具体而言，对于两个向量 x 和 h
它们的卷积结果可以表示为一个矩阵 H
乘以向量 x 的形式
其中矩阵 H 的每一列都是序列 h 的一个平移
像这样的矩阵就被称为 Toeplitz 矩阵

利用这种矩阵表示
我们可以非常容易地验证卷积是一个线性运算

又因为卷积是可交换的
交换待卷积的两个序列，不会改变卷积的结果

因此我们也可以将输入序列拓展成一个 Toeplitz 矩阵
然后用该矩阵去乘以卷积核对应的序列
这样同样可以得到卷积的结果

有意思的来了，当我们将卷积运算表示成这种矩阵形式之后
我们会发现，对应的矩阵乘法具体计算过程，竟与竖式乘法非常相似

让我们来看一下这个例子
根据前面将的矩阵形式，我们可以将其表示成这样的矩阵乘法

而该矩阵乘法的可以通过将矩阵的每一列
乘以向量对应位置的元素
然后将得到的结果进行累加来实现

接下来就是见证奇迹的时刻了
让我们把对应的计算旋转 90 度
并将乘积的结果写出来

如果我们忽略掉进位的话
这个形式是不是很熟悉？

没错，这不正是我们小时候学的竖式乘法吗？
甚至比竖式乘法还要更简单一些
因为我们完全不需要考虑进位的问题

事实上，利用这一点
我们可以利用卷积来实现两个非常大的整数的乘法运算
只需要先进行卷积，在将结果进行进位处理就可以了
我想这道算法题不少同学都见过吧，这次可以尝试使用卷积来实现一下

卷积和竖式乘法之间的联系不仅仅只存在于十进制
二进制同样适用，移位相加乘法器是计算机中常用的乘法实现方式
说白了就是利用卷积来实现乘法运算
